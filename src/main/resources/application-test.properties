# ==============================================================================
# WOODEXCESS API - Test Environment (Integration Tests)
# ==============================================================================

# ==============================================================================
# Database - Testcontainers PostgreSQL
# ==============================================================================
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:tc:postgresql:16-alpine:///testdb}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:test}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:test}
spring.datasource.driver-class-name=${SPRING_DATASOURCE_DRIVER:org.testcontainers.jdbc.ContainerDatabaseDriver}

# ==============================================================================
# JPA Configuration
# ==============================================================================
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true

# ==============================================================================
# Flyway Migration
# ==============================================================================
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.locations=classpath:db/migration

# ==============================================================================
# JWT Test (15 min access, 7 days refresh)
# ==============================================================================
jwt.secret=${JWT_SECRET:d428cb12c786f4fed33f674b12fb9efa4a02aecc293681dcaeec923dd7a1be48f3e9a7e061648382b2be8826436f8773bc174730b354fdf6c59d4bb330398a49}
jwt.access-expiration-ms=900000
jwt.refresh-expiration-ms=604800000

# ==============================================================================
# Logging (Test - Minimal)
# ==============================================================================
logging.level.org.hibernate.SQL=WARN
logging.level.org.springframework=WARN
logging.level.com.z.c.woodexcess_api=INFO
logging.level.org.testcontainers=INFO
